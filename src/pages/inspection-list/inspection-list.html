<!--
  Generated template for the InspectionListPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="page-header">

  <ion-navbar>
    <ion-title>Liste des inspections</ion-title>
  </ion-navbar>

  <ion-searchbar
    [(ngModel)]="searchTerm"
    (ionInput)="filterList($event)"
    placeholder="Niveau de risque, # civique ou nom de rue">

  </ion-searchbar>
</ion-header>

<ion-content>
  <ion-refresher (ionRefresh)="refreshList($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <ion-list class="list-items">
      <ion-item-group *ngFor="let batch of filteredBatches">
        <ion-item-divider>Lot d'inspection : {{batch.description}}</ion-item-divider>
        <button ion-item *ngFor="let inspection of batch.inspections" (click)="itemSelected(inspection)">
          <ion-avatar item-left style="font-size: 40px"><ion-icon name="home" [style.color]="getRiskColor(inspection.idRiskLevel)"></ion-icon></ion-avatar>
          <h2>{{inspection.address}}</h2>
          <p>Niveau de risque : {{getRiskDescription(inspection.idRiskLevel)}}</p>
        </button>
      </ion-item-group>
  </ion-list>
</ion-content>
