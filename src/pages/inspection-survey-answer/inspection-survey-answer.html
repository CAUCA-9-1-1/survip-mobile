<ion-header class="page-header">
    <ion-navbar>
        <ion-title>{{'survey' | translate}}</ion-title>
    </ion-navbar>
</ion-header>

<ion-content padding>
    <ion-slides>
        <ion-slide *ngFor="let question of inspectionQuestionAnswer">
            <survey-question [question]="currentQuestion" (questionAnswered)="validateQuestionAnswer($event)"
                             *ngIf="currentQuestion.questionType != questionTypeEnum.groupedQuestion"></survey-question>
            <div *ngIf="currentQuestion.questionType == questionTypeEnum.groupedQuestion">
                <div class="parent-question-title">
                    <h4>{{question.title}}</h4>
                    <div>
                        <ion-icon name="add-circle" (click)="addNewQuestionGroup()"></ion-icon>
                    </div>
                </div>
                <parent-child-question *ngFor="let answer of currentQuestionAnswerList; let i = index" [groupIndex]="i" [question]="answer"
                                       (childQuestionAnswered)="getNextQuestionFromAnswer($event)">{{i+1}}</parent-child-question>
            </div>
        </ion-slide>
    </ion-slides>
</ion-content>

<ion-footer class="page-footer">
    <ion-toolbar>
        <ion-buttons>
            <button ion-button icon-start type="button" style="float: left;" (click)="previousQuestion()"
                    *ngIf="previousQuestionAvailable">
                <ion-icon name="skip-backward"></ion-icon>
                {{'surveyPreviousQuestion' | translate}}
            </button>
            <button ion-button icon-start type="button" style="float: right;" (click)="saveAnswer()"
                    [disabled]="nextQuestionDisabled">
                <ion-icon name="skip-forward"></ion-icon>
                {{nextButtonTitle}}
            </button>
        </ion-buttons>
    </ion-toolbar>
</ion-footer>>
