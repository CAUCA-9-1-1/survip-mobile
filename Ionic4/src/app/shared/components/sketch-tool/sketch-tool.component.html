<div class="div-canvas-container" (touchstart)="mouseDown($event)" (touchmove)="mouseMove($event)"
  (touchend)="mouseUp()" #pinchElement>

  <ion-toolbar color="secondary">
    <ion-buttons>
      <div class="div-edit-toolbar">
        <ion-button class="button-edit-toolbar" size="large" fill="clear" (click)="presentShapeActionSheet()">
          <ion-icon name="hand" slot="icon-only"></ion-icon>
        </ion-button>

        <ion-button class="button-edit-toolbar" size="large" fill="clear" (click)="presentPictogramsActionSheet()"
          *ngIf="hasPictograms">
          <ion-icon name="photos" slot="icon-only"></ion-icon>
        </ion-button>

        <ion-button class="button-edit-toolbar" size="large" fill="clear" (click)="presentEditActionSheet()">
          <ion-icon name="ios-create" slot="icon-only"></ion-icon>
        </ion-button>

        <ion-button class="button-edit-toolbar" size="large" [fill]="!isDrawing ? 'clear' : 'solid'" (click)="draw()">
          <ion-icon name="brush" slot="icon-only"></ion-icon>
        </ion-button>

        <ion-button class="button-edit-toolbar" size="large" fill="clear" (click)="onColorClicked()">
          <ion-icon name="color-palette" slot="icon-only"></ion-icon>
        </ion-button>

        <ion-button class="button-edit-toolbar" size="large" [fill]="!isPanning ? 'clear' : 'solid'"
          (click)="onMoveClicked()">
          <ion-icon name="move" slot="icon-only"></ion-icon>
        </ion-button>

        <ion-button class="button-edit-toolbar" size="large" fill="clear" (click)="undo()"
          *ngIf="true || isUndoAvailable">
          <ion-icon name="undo" slot="icon-only"></ion-icon>
        </ion-button>

      </div>
    </ion-buttons>
  </ion-toolbar>

  <canvas id="canvas"></canvas>

  <div class="color-picker" *ngIf="isSelectingColor">
    <ion-grid fixed>
      <ion-row>
        <ion-col style="background:#660000" (click)="setColor('#660000')">
        </ion-col>
        <ion-col style="background:#663300" (click)="setColor('#663300')">
        </ion-col>
        <ion-col style="background:#666600" (click)="setColor('#666600')">
        </ion-col>
        <ion-col style="background:#006600" (click)="setColor('#006600')">
        </ion-col>
        <ion-col style="background:#000066" (click)="setColor('#000066')">
        </ion-col>
        <ion-col style="background:#660066" (click)="setColor('#660066')">
        </ion-col>

      </ion-row>
      <ion-row>
        <ion-col style="background:#CC0000" (click)="setColor('#CC0000')">
        </ion-col>
        <ion-col style="background:#CC6600" (click)="setColor('#CC6600')">
        </ion-col>
        <ion-col style="background:#CCCC00" (click)="setColor('#CCCC00')">
        </ion-col>
        <ion-col style="background:#00CC00" (click)="setColor('#00CC00')">
        </ion-col>
        <ion-col style="background:#0000CC" (click)="setColor('#0000CC')">
        </ion-col>
        <ion-col style="background:#CC00CC" (click)="setColor('#CC00CC')">
        </ion-col>

      </ion-row>
      <ion-row>
        <ion-col style="background:#FF0000" (click)="setColor('#FF0000')">
        </ion-col>
        <ion-col style="background:#FF8000" (click)="setColor('#FF8000')">
        </ion-col>
        <ion-col style="background:#FFFF00" (click)="setColor('#FFFF00')">
        </ion-col>
        <ion-col style="background:#00FF00" (click)="setColor('#00FF00')">
        </ion-col>
        <ion-col style="background:#0000FF" (click)="setColor('#0000FF')">
        </ion-col>
        <ion-col style="background:#FF00FF" (click)="setColor('#FF00FF')">
        </ion-col>

      </ion-row>
      <ion-row>
        <ion-col style="background:#FF6666" (click)="setColor('#FF6666')">
        </ion-col>
        <ion-col style="background:#FFB266" (click)="setColor('#FFB266')">
        </ion-col>
        <ion-col style="background:#FFFF66" (click)="setColor('#FFFF66')">
        </ion-col>
        <ion-col style="background:#66FF66" (click)="setColor('#66FF66')">
        </ion-col>
        <ion-col style="background:#6666FF" (click)="setColor('#6666FF')">
        </ion-col>
        <ion-col style="background:#FF66FF" (click)="setColor('#FF66FF')">
        </ion-col>

      </ion-row>
      <ion-row>
        <ion-col style="background:#FF9999" (click)="setColor('#FF9999')">
        </ion-col>
        <ion-col style="background:#FFCC99" (click)="setColor('#FFCC99')">
        </ion-col>
        <ion-col style="background:#FFFF99" (click)="setColor('#FFFF99')">
        </ion-col>
        <ion-col style="background:#99FF99" (click)="setColor('#99FF99')">
        </ion-col>
        <ion-col style="background:#9999FF" (click)="setColor('#9999FF')">
        </ion-col>
        <ion-col style="background:#FF99FF" (click)="setColor('#FF99FF')">
        </ion-col>

      </ion-row>
      <ion-row>
        <ion-col style="background:#FFFFFF" (click)="setColor('#FFFFFF')">
        </ion-col>
        <ion-col style="background:#C0C0C0" (click)="setColor('#C0C0C0')">
        </ion-col>
        <ion-col style="background:#808080" (click)="setColor('#808080')">
        </ion-col>
        <ion-col style="background:#606060" (click)="setColor('#606060')">
        </ion-col>
        <ion-col style="background:#303030" (click)="setColor('#606060')">
        </ion-col>
        <ion-col style="background:#000000" (click)="setColor('#000000')">
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</div>